<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/p5.min.js"></script>
  </head>
  <body>
    <main>
      <div class="pt-4">
        <div class="container">
          <div class="form-outer">
            <h1 class="h1 font-weight-bold">コスゲリアン迷路</h1>

            <hr class="mt-4 mb-4" />

            <div class="mt-4">
              <h2 class="h3 font-weight-bold mb-3">
                Step2・ボタンを押したらキャラクターが動くようにしよう！
              </h2>
              <p>
                次は、ボタンを押したらキャラクターが動くようにしてみましょう！
              </p>

              <div class="mb-4">
                <img src="images/image03.jpg" alt="" />
              </div>
              <p class="mb-4">
                キャラクターを移動させるには、まず<span class="text-danger"
                  >「キャラクタが今ゲームエリアの中でどの場所にいるのか」</span
                >を数字で表してプログラムに教えてあげる必要があります!
              </p>
              <div style="margin: 0 -12px" class="mb-3">
                <img src="images/image04.png" alt="" />
                <p class="small text-muted" style="margin: 0 12px">
                  ※小さめのスマホで見ている方、ごめんなさい…涙
                </p>
              </div>
              <div class="mb-3">
                <p>
                  プログラムには、色々な情報をコンピューターに記憶させる仕組みがあります！<br /><br />この仕組みを使って、キャラクターのいる場所を記憶させましょう！
                </p>
              </div>
            </div>
            <hr class="mt-4 mb-4" />
            <div class="mt-4">
              <div>
                <p class="mb-4">
                  コンピューターに何かを記憶させるためには、ある目印をつけてあげます。その目印をつけると、
                </p>
                <div class="mb-4 bg-light p-2">
                  <h3 class="h6 font-weight-bold">
                    ■情報を記憶させる目印のつけかた
                  </h3>
                  <ul class="small px-3">
                    <li>
                      <span class="text-danger d-inline-block mx-2">const</span
                      >imgX = 0;<br />
                      <p class="small text-muted">
                        コンピューターの頭脳の中に「imgX」という場所を作り、その中に0という数字を記憶させる
                      </p>
                    </li>
                    <li>
                      <span class="text-danger d-inline-block mx-2">let</span
                      >imgY = 0;<br />
                      <p class="small text-muted">
                        コンピューターの頭脳の中に「imgY」という場所を作り、その中に0という数字を記憶させる
                      </p>
                    </li>
                  </ul>
                  <p class="small">
                    このように、constあるいはletというものを目印とします。
                  </p>
                </div>
                <div class="mb-4">
                  <p>
                    constとletの違いは、「記憶させたデータを書き換え可能かどうか」という点です！
                  </p>
                </div>
                <div class="bg-light p-3 mb-4">
                  <h3 class="h6 font-weight-bold">■constとletの違い</h3>
                  <ul class="small px-3">
                    <li class="mb-2">
                      <span class="text-danger d-inline-block">const</span
                      >・・・記憶させたデータを書き換えできない。
                    </li>
                    <li>
                      <span class="text-danger d-inline-block">let</span
                      >・・・記憶させたデータを書き換えできる。
                    </li>
                  </ul>
                </div>
                <div>
                  <p>
                    <span class="text-danger">ここで問題！</span
                    ><br />キャラクターの位置情報をコンピューターの頭脳に記憶させるとき、constとletのどちらを使えばいいでしょうか？お選びください！
                  </p>
                  <div class="bg-light p-3 mb-4">
                    <ul style="list-style: none" class="px-0">
                      <li class="mb-2">
                        <input
                          type="radio"
                          name="variable"
                          id="btn-const"
                          class="mx-2"
                        />const
                      </li>
                      <li>
                        <input
                          type="radio"
                          name="variable"
                          id="btn-let"
                          class="mx-2"
                        />let
                      </li>
                    </ul>
                  </div>
                  <script>
                    window.addEventListener("load", function () {
                      document
                        .querySelector("#btn-const")
                        .addEventListener("click", () => {
                          alert("残念！不正解！");
                        });
                      document
                        .querySelector("#btn-let")
                        .addEventListener("click", () => {
                          alert("正解！");
                        });
                    });
                  </script>
                  <div>
                    <p>正解できましたか？？</p>
                    <p>実際にコードで表すと、以下のようになります！</p>
                  </div>
                  <div class="bg-light p-3 mb-4">
                    <ul style="list-style: none" class="px-0">
                      <li class="mb-2">
                        let imgX = 0;
                        <span class="text-muted"
                          >//キャラクターの横位置を記憶させる</span
                        >
                      </li>
                      <li class="mb-2">
                        let imgY = 0;
                        <span class="text-muted"
                          >//キャラクターの縦位置を記憶させる</span
                        >
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <hr class="mt-4 mb-4" />
            <div class="mt-4">
              <h2 class="h6 font-weight-bold">
                ■ボタンを押してキャラクターを動かす
              </h2>
              <p>それではボタンを押してキャラクターが動くようにしましょう！</p>
              <p>
                キャラクターが動くようにするには、<span class="text-danger"
                  >先ほど紹介したプログラムに対して足し算引き算をしてあげれば</span
                >OKとなります！
              </p>
              <div class="bg-light p-3 mb-4">
                <h3 class="h6 font-weight-bold">■プログラムへのお願いごと</h3>
                <div class="form-group">
                  <div class="form-group mb-3">
                    「ゲームエリア上で、
                    <p class="mt-2">
                      横:<input
                        type="number"
                        id="x"
                        class="form-control mx-2"
                        style="width: 80px; display: inline"
                      />
                    </p>
                    <p>
                      縦:<input
                        type="number"
                        id="y"
                        class="form-control mx-2"
                        style="width: 80px; display: inline"
                      /><br /><span class="d-inline-block mt-3"
                        >の場所に、</span
                      >
                    </p>
                    <p>
                      幅:<input
                        type="number"
                        id="button-w"
                        class="form-control mx-2"
                        style="width: 80px; display: inline"
                      />
                    </p>
                    <p>
                      高さ:<input
                        type="number"
                        id="button-h"
                        class="form-control mx-2"
                        style="width: 80px; display: inline"
                      />
                    </p>
                    のボタンをおいてねー！」
                  </div>
                </div>
              </div>
            </div>
            <div class="mb-4">
              <button id="btn-code" class="btn btn-primary">
                お願いごとをコードにしてみる
              </button>
            </div>
            <hr class="mt-4 mb-4" />
            <div class="mb-4">
              <div id="code-area" class="small mb-2"></div>
              <button id="btn-play" class="btn btn-primary">
                プログラムにお願いごとを伝える
              </button>
            </div>
            <hr class="mt-4 mb-4" />

            <div class="mb-4">
              <iframe
                src="game1.html"
                frameborder="0"
                width="100%"
                height="400px"
                id="game1Frame"
              ></iframe>
              <p>
                もし思い通りにいかなかったら、数字入力からやり直してみよう！
              </p>
              <p>
                うまくいったら、同じようなことをあと3回やれば、4つボタンを表示することができるわけですね！
              </p>
              <a href="step2.html" class="btn btn-primary">Step2にすすむ</a>
              <p class="small text-muted mt-2">
                ※Step2では、ボタンが4つ設置された状態から続きをやっていきます！
              </p>
            </div>
          </div>
          <!-- <div id="canvasArea"></div> -->
        </div>
      </div>
    </main>
    <script>
      document.querySelector("#btn-code").addEventListener("click", () => {
        const x = document.querySelector("#x").value;
        const y = document.querySelector("#y").value;
        const buttonW = document.querySelector("#button-w").value;
        const buttonH = document.querySelector("#button-h").value;
        const code = `
let img;<br>

function setup() {<br>
        const canvas = createCanvas(320, 350);<br>
        const area = document.querySelector("#canvasArea");<br>
        canvas.parent(area);<br>
        const leftButton = setButton("←", {<br>
          x: ${x},<br>
          y: ${y},<br>
        });<br>

        leftButton.parent(area);<br>
      }<br>
<br>
function preload() {<br>
    img = loadImage('stamp18.png');<br>
}<br>
<br>
function draw() {<br>
        background(220);<br>
        image(img, 0, 0, 40, 40);<br>
      }<br>

      function setButton(label, pos) {<br><br>
        const button = createButton(label);
        button.size(${buttonW}, ${buttonH});<br>
        button.position(pos.x, pos.y);<br>
        return button;<br>
      }<br>`;

        document.querySelector("#code-area").innerHTML = code;
      });

      document.querySelector("#btn-play").addEventListener("click", () => {
        document.querySelector("#game1Frame").src = "game1.html";
      });
    </script>
  </body>
</html>
